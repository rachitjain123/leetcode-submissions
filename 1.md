```python
import numpy as np 
import pandas as pd 
import plotly.express as px
```

# Probability Calculation of a person having covid 19

## Loading patients Data


```python
patientsDf = pd.read_csv('patients_data.csv')
patientsDf['date_announced'] = pd.to_datetime(patientsDf['date_announced'], errors = 'coerce')
patientsDf['date_announced'] = pd.to_datetime(patientsDf['date_announced'], format='%d/%m/%Y')
patientsDf['status_change_date'] = pd.to_datetime(patientsDf['status_change_date'], format='%d/%m/%Y')
patientsDf['nationality'] = patientsDf['nationality'].replace('Indian', 'India')
```


```python
patientsDf.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>patient_number</th>
      <th>state_patient_number</th>
      <th>date_announced</th>
      <th>age_bracket</th>
      <th>gender</th>
      <th>detected_city</th>
      <th>detected_district</th>
      <th>detected_state</th>
      <th>state_code</th>
      <th>current_status</th>
      <th>notes</th>
      <th>suspected_contacted_patient</th>
      <th>nationality</th>
      <th>type_of_transmission</th>
      <th>status_change_date</th>
      <th>source_1</th>
      <th>source_2</th>
      <th>source_3</th>
      <th>backup_notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>KL-TS-P1</td>
      <td>2020-01-30</td>
      <td>20</td>
      <td>F</td>
      <td>Thrissur</td>
      <td>Thrissur</td>
      <td>Kerala</td>
      <td>KL</td>
      <td>Recovered</td>
      <td>Travelled from Wuhan</td>
      <td>NaN</td>
      <td>India</td>
      <td>Imported</td>
      <td>2020-02-14</td>
      <td>https://twitter.com/vijayanpinarayi/status/122...</td>
      <td>https://weather.com/en-IN/india/news/news/2020...</td>
      <td>Student from Wuhan</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>KL-AL-P1</td>
      <td>2020-02-02</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Alappuzha</td>
      <td>Alappuzha</td>
      <td>Kerala</td>
      <td>KL</td>
      <td>Recovered</td>
      <td>Travelled from Wuhan</td>
      <td>NaN</td>
      <td>India</td>
      <td>Imported</td>
      <td>2020-02-14</td>
      <td>https://www.indiatoday.in/india/story/kerala-r...</td>
      <td>https://weather.com/en-IN/india/news/news/2020...</td>
      <td>NaN</td>
      <td>Student from Wuhan</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>KL-KS-P1</td>
      <td>2020-03-02</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Kasaragod</td>
      <td>Kasaragod</td>
      <td>Kerala</td>
      <td>KL</td>
      <td>Recovered</td>
      <td>Travelled from Wuhan</td>
      <td>NaN</td>
      <td>India</td>
      <td>Imported</td>
      <td>2020-02-14</td>
      <td>https://www.indiatoday.in/india/story/kerala-n...</td>
      <td>https://twitter.com/ANI/status/122422148580539...</td>
      <td>https://weather.com/en-IN/india/news/news/2020...</td>
      <td>Student from Wuhan</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>DL-P1</td>
      <td>2020-02-03</td>
      <td>45</td>
      <td>M</td>
      <td>East Delhi (Mayur Vihar)</td>
      <td>East Delhi</td>
      <td>Delhi</td>
      <td>DL</td>
      <td>Recovered</td>
      <td>Travelled from Austria, Italy</td>
      <td>NaN</td>
      <td>India</td>
      <td>Imported</td>
      <td>2020-03-15</td>
      <td>https://www.indiatoday.in/india/story/not-a-ja...</td>
      <td>https://economictimes.indiatimes.com/news/poli...</td>
      <td>NaN</td>
      <td>Travel history to Italy and Austria</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>TS-P1</td>
      <td>2020-02-03</td>
      <td>24</td>
      <td>M</td>
      <td>Hyderabad</td>
      <td>Hyderabad</td>
      <td>Telangana</td>
      <td>TG</td>
      <td>Recovered</td>
      <td>Travelled from Dubai to Bangalore on 20th Feb,...</td>
      <td>NaN</td>
      <td>India</td>
      <td>Imported</td>
      <td>2020-03-02</td>
      <td>https://www.deccanherald.com/national/south/qu...</td>
      <td>https://www.indiatoday.in/india/story/coronavi...</td>
      <td>https://www.thehindu.com/news/national/coronav...</td>
      <td>Travel history to Dubai, Singapore contact</td>
    </tr>
  </tbody>
</table>
</div>



## Checking Nan Values


```python
print(patientsDf.shape, '\n')
print(patientsDf.isna().sum())
```

    (12321, 19) 
    
    patient_number                     0
    state_patient_number           10221
    date_announced                     0
    age_bracket                    10814
    gender                          9936
    detected_city                  10861
    detected_district               2171
    detected_state                     0
    state_code                         1
    current_status                     2
    notes                           1191
    suspected_contacted_patient    10894
    nationality                    11024
    type_of_transmission            9380
    status_change_date               112
    source_1                         191
    source_2                        9195
    source_3                       11998
    backup_notes                   11961
    dtype: int64


## Deleting features which don't play in calculating probability


```python
patientsDf = patientsDf.drop(columns=['patient_number', 'state_patient_number', 'date_announced', 'state_code', 'current_status','suspected_contacted_patient','suspected_contacted_patient'])
```


```python
patientsDf = patientsDf.drop(columns=['source_1', 'source_2', 'source_3', 'backup_notes'])
patientsDf = patientsDf.drop(columns=['status_change_date'])
```


```python
patientsDf = patientsDf.drop(columns=['detected_city'])
```


```python
patientsDf = patientsDf.dropna()
```


```python
patientsDf.shape
```




    (695, 7)




```python
patientsDf.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age_bracket</th>
      <th>gender</th>
      <th>detected_district</th>
      <th>detected_state</th>
      <th>notes</th>
      <th>nationality</th>
      <th>type_of_transmission</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20</td>
      <td>F</td>
      <td>Thrissur</td>
      <td>Kerala</td>
      <td>Travelled from Wuhan</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>3</th>
      <td>45</td>
      <td>M</td>
      <td>East Delhi</td>
      <td>Delhi</td>
      <td>Travelled from Austria, Italy</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>4</th>
      <td>24</td>
      <td>M</td>
      <td>Hyderabad</td>
      <td>Telangana</td>
      <td>Travelled from Dubai to Bangalore on 20th Feb,...</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>5</th>
      <td>69</td>
      <td>M</td>
      <td>Italians*</td>
      <td>Rajasthan</td>
      <td>Travelled from Italy</td>
      <td>Italy</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>20</th>
      <td>70</td>
      <td>F</td>
      <td>Italians*</td>
      <td>Rajasthan</td>
      <td>Travelled from Italy, Wife of P6</td>
      <td>Italy</td>
      <td>Imported</td>
    </tr>
  </tbody>
</table>
</div>



## Analysing Notes


```python
patientsDf['notes'] = patientsDf['notes'].replace('Details Awaited', 'Details awaited')
patientsDf['notes'] = patientsDf['notes'].replace('Travelled from Dubai, UAE', 'Travelled from Dubai')
patientsDf['notes'] = patientsDf['notes'].replace('attended religious event Tablighi Jamaat in delhi', 'Attended Delhi Religious Conference')
patientsDf['notes'] = patientsDf['notes'].replace('Travelled from London', 'Travelled from UK')
patientsDf['notes'] = patientsDf['notes'].replace('Travelled from Dubai.', 'Travelled from Dubai')

```


```python
patientsDf['notes'].value_counts()
```




    Travelled from Dubai                                                                                                                                                                                                38
    Travelled from UK                                                                                                                                                                                                   31
    Travelled to Delhi                                                                                                                                                                                                  27
    Details awaited                                                                                                                                                                                                     18
    Travelled from Delhi                                                                                                                                                                                                14
                                                                                                                                                                                                                        ..
    Relative  and neighbour of P35-P37                                                                                                                                                                                   1
    Indonesian national; The patient had flown into Delhi on March 9 and after a few days took a train to Karimnagar, about 170 km from Hyderabad, for a religious meeting with a group from Indonesia and Malaysia.     1
    Travel History to Spain                                                                                                                                                                                              1
    Wife of P51                                                                                                                                                                                                          1
    Wife of KA-P36                                                                                                                                                                                                       1
    Name: notes, Length: 423, dtype: int64




```python
temppatientsDf = pd.DataFrame(patientsDf.groupby('notes')['notes'].count().sort_values(ascending=False))
temppatientsDf.columns = ['count']
temppatientsDf = temppatientsDf.reset_index()
temppatientsDf = temppatientsDf[temppatientsDf['notes']!='Details awaited']
temppatientsDf.head(10)
fig = px.bar(temppatientsDf.head(10).sort_values('count', ascending=True), x='count', y='notes', orientation='h', text='count', width=600,
       color_discrete_sequence = ['#35495e'], title='Inital Data notes')
fig.update_xaxes(title='')
fig.update_yaxes(title='')
```


<div>


            <div id="a6acc2c9-37d2-4e9b-a6c1-702f0a512827" class="plotly-graph-div" style="height:525px; width:600px;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("a6acc2c9-37d2-4e9b-a6c1-702f0a512827")) {
                    Plotly.newPlot(
                        'a6acc2c9-37d2-4e9b-a6c1-702f0a512827',
                        [{"alignmentgroup": "True", "hovertemplate": "count=%{text}<br>notes=%{y}<extra></extra>", "legendgroup": "", "marker": {"color": "#35495e"}, "name": "", "offsetgroup": "", "orientation": "h", "showlegend": false, "text": [6.0, 9.0, 9.0, 10.0, 11.0, 12.0, 14.0, 27.0, 31.0, 38.0], "textposition": "auto", "type": "bar", "x": [6, 9, 9, 10, 11, 12, 14, 27, 31, 38], "xaxis": "x", "y": ["Contact of KA-P88", "Contact with Oman Return, Same family", "SARI", "Travelled from Saudi Arabia", "Pharma company employee", "Local Transmission", "Travelled from Delhi", "Travelled to Delhi", "Travelled from UK", "Travelled from Dubai"], "yaxis": "y"}],
                        {"barmode": "relative", "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Inital Data notes"}, "width": 600, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": ""}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": ""}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('a6acc2c9-37d2-4e9b-a6c1-702f0a512827');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>



```python
patientsDf['notes'] = patientsDf['notes'].apply(lambda x: x.lower())
```

## Making categories in notes
Contact means: The person has come in contact with a +ve covid 19 patient(Usually brother, sister, friend, etc. who has visited abroad e )


```python
patientsDf.notes = patientsDf.notes.apply(lambda x: 'wuhan' if 'wuhan' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'uk' if 'uk' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'uk' if 'scotland' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'uk' if 'london' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'uk' if 'united kingdom' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'usa' if 'usa' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'usa' if 'york' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'usa' if 'us' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'germany' if 'germany' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'denmark' if 'denmark' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'turkey' if 'turkey' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'italy' if 'italy' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'finland' if 'finland' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'spain' if 'spain' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'sri lanka' if 'lanka' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'dubai' if 'dubai' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'singapore' if 'singapore' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'austrialia' if 'australia' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'newZealand' if 'zealand' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'mecca' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'saudi' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'edenburg' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'middle east' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'ireland' if 'ireland' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'sweden' if 'sweden' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'abhudhabi' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'abhu dhabi' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'abu dhabi' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'abu dhabi' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'uae' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'sharjah' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'middleEast' if 'oman' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'iran' if 'iran' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'hidupur' if 'hidupur' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'greece' if 'greece' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'malaysia' if 'malaysia' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'indonesia' if 'indonesia' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'indonesia' if 'indonesian' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'indonesia' if 'mexico' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'qatar' if 'qatar' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'paris' if 'paris' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'netherlands' if 'netherlands' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'sari' if 'sari' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'hadDisease' if 'influenza' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'hadDisease' if 'influenza' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'france' if 'france' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'egypt' if 'egypt' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'thailand' if 'thailand' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'son' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'daughter' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'wife' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'husband' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'uncle' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'driver' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'doctor' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'aunt' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'brother' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'father' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'relative' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'mother' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'neighbour' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'grandmother' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'family' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'roommate' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'parents' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'worker' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'resident' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'related' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'sister' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'pharma' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'police' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'p681' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'contact' if 'contact' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'localTransmission' if 'local' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'localTransmission' if 'locally' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'local' if 'no international' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'bangalore' if 'bangalore' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'kerala' if 'trivendrum' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'bangalore' if 'bengaluru' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'bhopal' if 'bhopal' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'mumbai' if 'mumbai' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'punjab' if 'punjab' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'phuket' if 'phuket' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'delhi' if 'delhi' in x else x)
patientsDf.notes = patientsDf.notes.apply(lambda x: 'history of Travel' if 'history' in x else x)
```


```python
patientsDf = patientsDf.rename(columns={"notes" :"Travelled from/to or contact"})
```


```python
patientsDf.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age_bracket</th>
      <th>gender</th>
      <th>detected_district</th>
      <th>detected_state</th>
      <th>Travelled from/to or contact</th>
      <th>nationality</th>
      <th>type_of_transmission</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20</td>
      <td>F</td>
      <td>Thrissur</td>
      <td>Kerala</td>
      <td>wuhan</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>3</th>
      <td>45</td>
      <td>M</td>
      <td>East Delhi</td>
      <td>Delhi</td>
      <td>usa</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>4</th>
      <td>24</td>
      <td>M</td>
      <td>Hyderabad</td>
      <td>Telangana</td>
      <td>usa</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>5</th>
      <td>69</td>
      <td>M</td>
      <td>Italians*</td>
      <td>Rajasthan</td>
      <td>italy</td>
      <td>Italy</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>20</th>
      <td>70</td>
      <td>F</td>
      <td>Italians*</td>
      <td>Rajasthan</td>
      <td>italy</td>
      <td>Italy</td>
      <td>Imported</td>
    </tr>
  </tbody>
</table>
</div>




```python
temp_patientsDf = pd.DataFrame(patientsDf.groupby('Travelled from/to or contact')['Travelled from/to or contact'].count().sort_values(ascending=False))
temp_patientsDf.columns = ['count']
temp_patientsDf = temp_patientsDf.reset_index()
temp_patientsDf = temp_patientsDf[temp_patientsDf['Travelled from/to or contact']!='details awaited']
temp_patientsDf.head(10)
fig = px.bar(temp_patientsDf.head(10).sort_values('count', ascending=True), x='count', y='Travelled from/to or contact', orientation='h', text='count', width=600,
       color_discrete_sequence = ['#35495e'], title='Mining cases info')
fig.update_xaxes(title='')
fig.update_yaxes(title='')
```


<div>


            <div id="ddba10c1-d8a3-43b8-8440-9523b3e99976" class="plotly-graph-div" style="height:525px; width:600px;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("ddba10c1-d8a3-43b8-8440-9523b3e99976")) {
                    Plotly.newPlot(
                        'ddba10c1-d8a3-43b8-8440-9523b3e99976',
                        [{"alignmentgroup": "True", "hovertemplate": "count=%{text}<br>Travelled from/to or contact=%{y}<extra></extra>", "legendgroup": "", "marker": {"color": "#35495e"}, "name": "", "offsetgroup": "", "orientation": "h", "showlegend": false, "text": [13.0, 14.0, 15.0, 16.0, 49.0, 50.0, 55.0, 72.0, 78.0, 222.0], "textposition": "auto", "type": "bar", "x": [13, 14, 15, 16, 49, 50, 55, 72, 78, 222], "xaxis": "x", "y": ["history of Travel", "italy", "sari", "localTransmission", "usa", "middleEast", "delhi", "uk", "dubai", "contact"], "yaxis": "y"}],
                        {"barmode": "relative", "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Mining cases info"}, "width": 600, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": ""}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": ""}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('ddba10c1-d8a3-43b8-8440-9523b3e99976');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>


### Removing rows which having awaiting details as travelled from or to


```python
patientsDf = patientsDf[~patientsDf['Travelled from/to or contact'].str.contains("details")]
```


```python
patientsDf.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age_bracket</th>
      <th>gender</th>
      <th>detected_district</th>
      <th>detected_state</th>
      <th>Travelled from/to or contact</th>
      <th>nationality</th>
      <th>type_of_transmission</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>20</td>
      <td>F</td>
      <td>Thrissur</td>
      <td>Kerala</td>
      <td>wuhan</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>3</th>
      <td>45</td>
      <td>M</td>
      <td>East Delhi</td>
      <td>Delhi</td>
      <td>usa</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>4</th>
      <td>24</td>
      <td>M</td>
      <td>Hyderabad</td>
      <td>Telangana</td>
      <td>usa</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>5</th>
      <td>69</td>
      <td>M</td>
      <td>Italians*</td>
      <td>Rajasthan</td>
      <td>italy</td>
      <td>Italy</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>20</th>
      <td>70</td>
      <td>F</td>
      <td>Italians*</td>
      <td>Rajasthan</td>
      <td>italy</td>
      <td>Italy</td>
      <td>Imported</td>
    </tr>
  </tbody>
</table>
</div>



## Analyzing age Bracket


```python
px.histogram(patientsDf, x='age_bracket', color_discrete_sequence = ['#35495e'], nbins=50, title='Distribution of ages of confirmed patients')
```


<div>


            <div id="ea47ff00-2677-4e1b-985a-5133cae84737" class="plotly-graph-div" style="height:525px; width:100%;"></div>
            <script type="text/javascript">
                require(["plotly"], function(Plotly) {
                    window.PLOTLYENV=window.PLOTLYENV || {};

                if (document.getElementById("ea47ff00-2677-4e1b-985a-5133cae84737")) {
                    Plotly.newPlot(
                        'ea47ff00-2677-4e1b-985a-5133cae84737',
                        [{"alignmentgroup": "True", "bingroup": "x", "hovertemplate": "age_bracket=%{x}<br>count=%{y}<extra></extra>", "legendgroup": "", "marker": {"color": "#35495e"}, "name": "", "nbinsx": 50, "offsetgroup": "", "orientation": "v", "showlegend": false, "type": "histogram", "x": ["20", "45", "24", "69", "70", "45", "16", "27", "59", "65", "45", "24", "54", "53", "65", "61", "25", "63", "46", "3", "48", "40", "47", "13", "96", "89", "3", "85", "46", "70", "68", "27", "69", "26", "76", "65", "45", "33", "33", "27", "37", "43", "21", "24", "59", "32", "45", "33", "3", "44", "51", "31", "29", "20", "67", "63", "49", "26", "68", "52", "22", "18", "34", "28", "25", "22", "56", "25", "27", "44", "20", "68", "35", "21", "67", "33", "30", "3", "38", "23", "22", "49", "35", "24", "24", "21", "70", "47", "32", "21", "51", "19", "65", "22", "22", "32", "22", "69", "58", "24", "38", "20", "22", "34", "47", "37", "35", "20", "41", "18", "69", "27", "26", "52", "21", "52", "27", "63", "32", "59", "45", "22", "24", "27", "60", "32", "53", "20", "23", "42", "74", "28", "59", "63", "41", "32", "38", "67", "26", "53", "39", "19", "35", "33", "69", "75", "65", "35", "34", "45", "40", "17", "36", "60", "54", "21", "35", "23", "57", "59", "22", "24", "31", "30", "33", "32", "30", "21", "60", "64", "35", "25", "38", "24", "81", "26", "58", "27", "32", "41", "33", "26", "34", "23", "23", "50", "22", "32", "24", "41", "27", "69", "21", "64", "36", "27", "51", "37", "62", "48", "47", "20", "53", "64", "43", "49", "36", "46", "45", "58", "57", "27", "29", "24", "33", "49", "46", "61", "85", "21", "30", "23", "21", "20", "25", "56", "32", "49", "24", "30", "31", "41", "34", "40", "37", "26", "61", "38", "41", "30", "24", "60", "22", "38", "45", "45", "69", "2", "25", "25", "48", "54", "24", "35", "41", "23", "32", "40", "65", "56", "65", "53", "54", "58", "74", "52", "25", "49", "39", "61", "56", "47", "55", "65", "57", "47", "57", "70", "23", "25", "65", "55", "25", "64", "36", "75", "57", "36", "50", "57", "27", "39", "38", "63", "34", "21", "22", "23", "37", "37", "63", "59", "26", "26", "63", "69", "9", "7", "55", "31", "26", "23", "24", "43", "3", "22", "18", "26", "63", "52", "25", "29", "55", "66", "21", "39", "33", "32", "40", "12", "49", "36", "41", "45", "35", "35", "70", "64", "45", "21", "24", "7", "1", "49", "39", "36", "32", "24", "65", "20", "29", "45", "53", "54", "22", "44", "42", "46", "23", "1", "20", "25", "35", "60", "33", "22", "42", "47", "18", "21", "11", "27", "45", "6", "1", "73", "61", "39", "45", "22", "50", "37", "39", "33", "42", "49", "23", "54", "28", "23", "25", "23", "70", "32", "38", "18", "63", "45", "40", "56", "28-35", "28-35", "28-35", "28-35", "35", "60", "21", "25", "20", "24", "76", "56", "39", "38", "21", "31", "42", "21", "29", "58", "1", "51", "45", "48", "67", "62", "35", "29", "13", "32", "34", "21", "24", "52", "48", "26", "40", "19", "35", "41", "34", "26", "60", "40", "58", "31", "72", "37", "27", "33", "42", "49", "26", "63", "63", "27", "65", "48", "30", "41", "66", "59", "39", "60", "63", "73", "45", "60", "24", "22", "14", "69", "70", "26", "20", "37", "21", "57", "43", "78", "60", "38", "19", "39", "39", "54", "40", "34", "47", "63", "43", "52", "41", "55", "75", "34", "26", "54", "40", "34", "68", "62", "70", "42", "44", "81", "7", "36", "40", "67", "41", "41", "20", "37", "39", "37", "32", "62", "20", "37", "57", "22", "33", "35", "54", "58", "43", "80", "55", "17", "16", "52", "57", "32", "33", "41", "80", "29", "50", "35", "68", "32", "36", "65", "28", "57", "72", "35", "77", "31", "42", "45", "22", "26", "65", "72", "35", "23", "27", "50", "11", "55", "26", "18", "12", "29", "50", "12", "20", "30", "10", "50", "55", "68", "32", "4", "13", "9", "19", "27", "48", "40", "22", "27", "66", "42", "27", "19", "14", "8", "46", "48", "57", "8", "48", "33", "28", "48", "55", "35", "11", "60", "59", "32", "46", "43", "50", "27", "31", "26", "29", "33", "10", "46", "32", "75", "58", "76", "24", "60", "38", "19", "38", "55", "25", "40", "2", "55", "36", "74", "37", "60", "8", "18", "27", "16", "35", "20", "14", "45", "39", "62", "36", "74", "43", "32", "65", "39", "65", "26", "10", "51", "35", "69", "33", "29", "26", "35", "33", "59", "52", "39", "41", "30", "27", "35", "26", "23", "35", "28", "32", "72", "1", "38", "25", "32"], "xaxis": "x", "yaxis": "y"}],
                        {"barmode": "relative", "legend": {"tracegroupgap": 0}, "template": {"data": {"bar": [{"error_x": {"color": "#2a3f5f"}, "error_y": {"color": "#2a3f5f"}, "marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "bar"}], "barpolar": [{"marker": {"line": {"color": "#E5ECF6", "width": 0.5}}, "type": "barpolar"}], "carpet": [{"aaxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "baxis": {"endlinecolor": "#2a3f5f", "gridcolor": "white", "linecolor": "white", "minorgridcolor": "white", "startlinecolor": "#2a3f5f"}, "type": "carpet"}], "choropleth": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "choropleth"}], "contour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "contour"}], "contourcarpet": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "contourcarpet"}], "heatmap": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmap"}], "heatmapgl": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "heatmapgl"}], "histogram": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "histogram"}], "histogram2d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2d"}], "histogram2dcontour": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "histogram2dcontour"}], "mesh3d": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "type": "mesh3d"}], "parcoords": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "parcoords"}], "pie": [{"automargin": true, "type": "pie"}], "scatter": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter"}], "scatter3d": [{"line": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatter3d"}], "scattercarpet": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattercarpet"}], "scattergeo": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergeo"}], "scattergl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattergl"}], "scattermapbox": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scattermapbox"}], "scatterpolar": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolar"}], "scatterpolargl": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterpolargl"}], "scatterternary": [{"marker": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "type": "scatterternary"}], "surface": [{"colorbar": {"outlinewidth": 0, "ticks": ""}, "colorscale": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "type": "surface"}], "table": [{"cells": {"fill": {"color": "#EBF0F8"}, "line": {"color": "white"}}, "header": {"fill": {"color": "#C8D4E3"}, "line": {"color": "white"}}, "type": "table"}]}, "layout": {"annotationdefaults": {"arrowcolor": "#2a3f5f", "arrowhead": 0, "arrowwidth": 1}, "coloraxis": {"colorbar": {"outlinewidth": 0, "ticks": ""}}, "colorscale": {"diverging": [[0, "#8e0152"], [0.1, "#c51b7d"], [0.2, "#de77ae"], [0.3, "#f1b6da"], [0.4, "#fde0ef"], [0.5, "#f7f7f7"], [0.6, "#e6f5d0"], [0.7, "#b8e186"], [0.8, "#7fbc41"], [0.9, "#4d9221"], [1, "#276419"]], "sequential": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]], "sequentialminus": [[0.0, "#0d0887"], [0.1111111111111111, "#46039f"], [0.2222222222222222, "#7201a8"], [0.3333333333333333, "#9c179e"], [0.4444444444444444, "#bd3786"], [0.5555555555555556, "#d8576b"], [0.6666666666666666, "#ed7953"], [0.7777777777777778, "#fb9f3a"], [0.8888888888888888, "#fdca26"], [1.0, "#f0f921"]]}, "colorway": ["#636efa", "#EF553B", "#00cc96", "#ab63fa", "#FFA15A", "#19d3f3", "#FF6692", "#B6E880", "#FF97FF", "#FECB52"], "font": {"color": "#2a3f5f"}, "geo": {"bgcolor": "white", "lakecolor": "white", "landcolor": "#E5ECF6", "showlakes": true, "showland": true, "subunitcolor": "white"}, "hoverlabel": {"align": "left"}, "hovermode": "closest", "mapbox": {"style": "light"}, "paper_bgcolor": "white", "plot_bgcolor": "#E5ECF6", "polar": {"angularaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "radialaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "scene": {"xaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "yaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}, "zaxis": {"backgroundcolor": "#E5ECF6", "gridcolor": "white", "gridwidth": 2, "linecolor": "white", "showbackground": true, "ticks": "", "zerolinecolor": "white"}}, "shapedefaults": {"line": {"color": "#2a3f5f"}}, "ternary": {"aaxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "baxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}, "bgcolor": "#E5ECF6", "caxis": {"gridcolor": "white", "linecolor": "white", "ticks": ""}}, "title": {"x": 0.05}, "xaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}, "yaxis": {"automargin": true, "gridcolor": "white", "linecolor": "white", "ticks": "", "title": {"standoff": 15}, "zerolinecolor": "white", "zerolinewidth": 2}}}, "title": {"text": "Distribution of ages of confirmed patients"}, "xaxis": {"anchor": "y", "domain": [0.0, 1.0], "title": {"text": "age_bracket"}}, "yaxis": {"anchor": "x", "domain": [0.0, 1.0], "title": {"text": "count"}}},
                        {"responsive": true}
                    ).then(function(){

var gd = document.getElementById('ea47ff00-2677-4e1b-985a-5133cae84737');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })
                };
                });
            </script>
        </div>



```python
patientsDf.age_bracket = patientsDf.age_bracket.apply(lambda x: '30' if '28-35' in x else x)
patientsDf['age_bracket'].values
```




    array(['20', '45', '24', '69', '70', '45', '16', '27', '59', '65', '45',
           '24', '54', '53', '65', '61', '25', '63', '46', '3', '48', '40',
           '47', '13', '96', '89', '3', '85', '46', '70', '68', '27', '69',
           '26', '76', '65', '45', '33', '33', '27', '37', '43', '21', '24',
           '59', '32', '45', '33', '3', '44', '51', '31', '29', '20', '67',
           '63', '49', '26', '68', '52', '22', '18', '34', '28', '25', '22',
           '56', '25', '27', '44', '20', '68', '35', '21', '67', '33', '30',
           '3', '38', '23', '22', '49', '35', '24', '24', '21', '70', '47',
           '32', '21', '51', '19', '65', '22', '22', '32', '22', '69', '58',
           '24', '38', '20', '22', '34', '47', '37', '35', '20', '41', '18',
           '69', '27', '26', '52', '21', '52', '27', '63', '32', '59', '45',
           '22', '24', '27', '60', '32', '53', '20', '23', '42', '74', '28',
           '59', '63', '41', '32', '38', '67', '26', '53', '39', '19', '35',
           '33', '69', '75', '65', '35', '34', '45', '40', '17', '36', '60',
           '54', '21', '35', '23', '57', '59', '22', '24', '31', '30', '33',
           '32', '30', '21', '60', '64', '35', '25', '38', '24', '81', '26',
           '58', '27', '32', '41', '33', '26', '34', '23', '23', '50', '22',
           '32', '24', '41', '27', '69', '21', '64', '36', '27', '51', '37',
           '62', '48', '47', '20', '53', '64', '43', '49', '36', '46', '45',
           '58', '57', '27', '29', '24', '33', '49', '46', '61', '85', '21',
           '30', '23', '21', '20', '25', '56', '32', '49', '24', '30', '31',
           '41', '34', '40', '37', '26', '61', '38', '41', '30', '24', '60',
           '22', '38', '45', '45', '69', '2', '25', '25', '48', '54', '24',
           '35', '41', '23', '32', '40', '65', '56', '65', '53', '54', '58',
           '74', '52', '25', '49', '39', '61', '56', '47', '55', '65', '57',
           '47', '57', '70', '23', '25', '65', '55', '25', '64', '36', '75',
           '57', '36', '50', '57', '27', '39', '38', '63', '34', '21', '22',
           '23', '37', '37', '63', '59', '26', '26', '63', '69', '9', '7',
           '55', '31', '26', '23', '24', '43', '3', '22', '18', '26', '63',
           '52', '25', '29', '55', '66', '21', '39', '33', '32', '40', '12',
           '49', '36', '41', '45', '35', '35', '70', '64', '45', '21', '24',
           '7', '1', '49', '39', '36', '32', '24', '65', '20', '29', '45',
           '53', '54', '22', '44', '42', '46', '23', '1', '20', '25', '35',
           '60', '33', '22', '42', '47', '18', '21', '11', '27', '45', '6',
           '1', '73', '61', '39', '45', '22', '50', '37', '39', '33', '42',
           '49', '23', '54', '28', '23', '25', '23', '70', '32', '38', '18',
           '63', '45', '40', '56', '30', '30', '30', '30', '35', '60', '21',
           '25', '20', '24', '76', '56', '39', '38', '21', '31', '42', '21',
           '29', '58', '1', '51', '45', '48', '67', '62', '35', '29', '13',
           '32', '34', '21', '24', '52', '48', '26', '40', '19', '35', '41',
           '34', '26', '60', '40', '58', '31', '72', '37', '27', '33', '42',
           '49', '26', '63', '63', '27', '65', '48', '30', '41', '66', '59',
           '39', '60', '63', '73', '45', '60', '24', '22', '14', '69', '70',
           '26', '20', '37', '21', '57', '43', '78', '60', '38', '19', '39',
           '39', '54', '40', '34', '47', '63', '43', '52', '41', '55', '75',
           '34', '26', '54', '40', '34', '68', '62', '70', '42', '44', '81',
           '7', '36', '40', '67', '41', '41', '20', '37', '39', '37', '32',
           '62', '20', '37', '57', '22', '33', '35', '54', '58', '43', '80',
           '55', '17', '16', '52', '57', '32', '33', '41', '80', '29', '50',
           '35', '68', '32', '36', '65', '28', '57', '72', '35', '77', '31',
           '42', '45', '22', '26', '65', '72', '35', '23', '27', '50', '11',
           '55', '26', '18', '12', '29', '50', '12', '20', '30', '10', '50',
           '55', '68', '32', '4', '13', '9', '19', '27', '48', '40', '22',
           '27', '66', '42', '27', '19', '14', '8', '46', '48', '57', '8',
           '48', '33', '28', '48', '55', '35', '11', '60', '59', '32', '46',
           '43', '50', '27', '31', '26', '29', '33', '10', '46', '32', '75',
           '58', '76', '24', '60', '38', '19', '38', '55', '25', '40', '2',
           '55', '36', '74', '37', '60', '8', '18', '27', '16', '35', '20',
           '14', '45', '39', '62', '36', '74', '43', '32', '65', '39', '65',
           '26', '10', '51', '35', '69', '33', '29', '26', '35', '33', '59',
           '52', '39', '41', '30', '27', '35', '26', '23', '35', '28', '32',
           '72', '1', '38', '25', '32'], dtype=object)




```python
patientsDf['age_bracket'] = patientsDf['age_bracket'].astype(int)
```


```python
categ_num = 1
for i in range(0,90,5):
    patientsDf['age_bracket'] = np.where(patientsDf['age_bracket'].between(i,i+5), categ_num, patientsDf['age_bracket'])
    categ_num = categ_num + 1
```


```python
patientsDf.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age_bracket</th>
      <th>gender</th>
      <th>detected_district</th>
      <th>detected_state</th>
      <th>Travelled from/to or contact</th>
      <th>nationality</th>
      <th>type_of_transmission</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4</td>
      <td>F</td>
      <td>Thrissur</td>
      <td>Kerala</td>
      <td>wuhan</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9</td>
      <td>M</td>
      <td>East Delhi</td>
      <td>Delhi</td>
      <td>usa</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>M</td>
      <td>Hyderabad</td>
      <td>Telangana</td>
      <td>usa</td>
      <td>India</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>5</th>
      <td>14</td>
      <td>M</td>
      <td>Italians*</td>
      <td>Rajasthan</td>
      <td>italy</td>
      <td>Italy</td>
      <td>Imported</td>
    </tr>
    <tr>
      <th>20</th>
      <td>14</td>
      <td>F</td>
      <td>Italians*</td>
      <td>Rajasthan</td>
      <td>italy</td>
      <td>Italy</td>
      <td>Imported</td>
    </tr>
  </tbody>
</table>
</div>



## Encoding of categorical data using Label Encoder


```python
from sklearn.preprocessing import LabelEncoder
encoder = LabelEncoder()
```


```python
patientsDf['gender'] = patientsDf['gender'].map( {'M':0, 'F':1})
```


```python
patientsDf['detected_district'] = encoder.fit_transform(patientsDf['detected_district'])
encoder.classes_
```




    array(['Agra', 'Ahmadabad', 'Ahmadnagar', 'Aizawl', 'Ajmer', 'Ambala',
           'Amritsar', 'Aurangabad', 'Bagalkote', 'Baghpat', 'Ballari',
           'Bandipore', 'Barnala', 'Belagavi', 'Bengaluru', 'Bengaluru Rural',
           'Bhadradri Kothagudem', 'Bhavnagar', 'Bhopal', 'Bidar',
           'Chandigarh', 'Chengalpattu', 'Chennai', 'Chikkaballapura',
           'Chittoor', 'Coimbatore', 'Dakshina Kannada', 'Davanagere',
           'Dehradun', 'Dharwad', 'East Delhi', 'East Godavari', 'Ernakulam',
           'Erode', 'Faridabad', 'Gadag', 'Gandhinagar',
           'Gautam Buddha Nagar', 'Gaya', 'Ghaziabad', 'Guntur', 'Gurugram',
           'Gwalior', 'Hoshiarpur', 'Hyderabad', 'Imphal West', 'Italians*',
           'Jabalpur', 'Jaipur', 'Jalandhar', 'Jammu', 'Jaunpur', 'Jhunjhunu',
           'Jodhpur', 'Kachchh', 'Kalaburagi', 'Kancheepuram', 'Kangra',
           'Kannur', 'Kapurthala', 'Karimnagar', 'Kasaragod', 'Kendrapara',
           'Khordha', 'Kodagu', 'Kolkata', 'Kollam', 'Kozhikode', 'Krishna',
           'Leh', 'Lucknow', 'Ludhiana', 'Madurai', 'Mahe', 'Malappuram',
           'Mandya', 'Medchal Malkajgiri', 'Medinipur East', 'Moga',
           'Moradabad', 'Mumbai', 'Munger', 'Mysuru', 'Nadia', 'Nagpur',
           'North 24 Parganas', 'North Delhi', 'North East Delhi',
           'North Goa', 'North West Delhi', 'North and Middle Andaman',
           'Panchkula', 'Panipat', 'Pathanamthitta', 'Pathankot', 'Patna',
           'Pauri Garhwal', 'Pilibhit', 'Prakasam', 'Puducherry', 'Pune',
           'Raigarh', 'Raipur', 'Rajkot', 'Rajnandgaon', 'Ranga Reddy',
           'Ranipet', 'Rupnagar', 'S.A.S. Nagar', 'S.P.S. Nellore', 'Salem',
           'Satara', 'Shahid Bhagat Singh Nagar', 'Siwan', 'Sonipat',
           'South Delhi', 'South West Delhi', 'Srinagar', 'Surat', 'Thane',
           'Thanjavur', 'Thiruvarur', 'Thrissur', 'Tirunelveli', 'Tiruppur',
           'Tumakuru', 'Udupi', 'Ujjain', 'Uttara Kannada', 'Vadodara',
           'Varanasi', 'Vellore', 'Vijayapura', 'Virudhunagar',
           'Visakhapatnam', 'West Delhi', 'Yavatmal'], dtype=object)




```python
patientsDf['detected_state'] = encoder.fit_transform(patientsDf['detected_state'])
encoder.classes_
```




    array(['Andaman and Nicobar Islands', 'Andhra Pradesh', 'Bihar',
           'Chandigarh', 'Chhattisgarh', 'Delhi', 'Goa', 'Gujarat', 'Haryana',
           'Himachal Pradesh', 'Jammu and Kashmir', 'Karnataka', 'Kerala',
           'Ladakh', 'Madhya Pradesh', 'Maharashtra', 'Manipur', 'Mizoram',
           'Odisha', 'Puducherry', 'Punjab', 'Rajasthan', 'Tamil Nadu',
           'Telangana', 'Uttar Pradesh', 'Uttarakhand', 'West Bengal'],
          dtype=object)




```python
patientsDf['nationality'] = encoder.fit_transform(patientsDf['nationality'])
encoder.classes_
```




    array(['India', 'Indonesia', 'Italy', 'Myanmar', 'Thailand', 'Tibet',
           'United Kingdom', 'United States of America'], dtype=object)




```python
patientsDf['type_of_transmission'] = encoder.fit_transform(patientsDf['type_of_transmission'])
encoder.classes_
```




    array(['Imported', 'Imported ', 'Local', 'TBD'], dtype=object)




```python
patientsDf['Travelled from/to or contact'] = encoder.fit_transform(patientsDf['Travelled from/to or contact'])
encoder.classes_
```




    array(['bangalore', 'bhopal', 'contact', 'delhi', 'denmark', 'dubai',
           'egypt', 'finland', 'france', 'germany', 'greece', 'hadDisease',
           'hidupur', 'history of Travel', 'indian army jawan', 'indonesia',
           'iran', 'ireland', 'italy',
           'landed in mangalore airport, had been to kasturba medical college attavar',
           'local', 'localTransmission', 'malaysia', 'middleEast', 'mumbai',
           'native of allahabad', 'netherlands', 'newZealand',
           'nurse in a private hospital of gurugram', 'paris',
           'private hospital nurse', 'punjab', 'qatar', 'sari', 'singapore',
           'spain', 'sri lanka', 'sweden', 'thailand',
           'the detailed investigation is under process',
           'travelled from colombo, arrived on 15.03.2020',
           'travelled from to lisbon in portugal', 'travelled from trinidad',
           'travelled from trivandrum', 'travelled to mohali', 'turkey', 'uk',
           'usa', 'wuhan'], dtype=object)




```python
patientsDf.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>age_bracket</th>
      <th>gender</th>
      <th>detected_district</th>
      <th>detected_state</th>
      <th>Travelled from/to or contact</th>
      <th>nationality</th>
      <th>type_of_transmission</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4</td>
      <td>1</td>
      <td>122</td>
      <td>12</td>
      <td>48</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9</td>
      <td>0</td>
      <td>30</td>
      <td>5</td>
      <td>47</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>0</td>
      <td>44</td>
      <td>23</td>
      <td>47</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>14</td>
      <td>0</td>
      <td>46</td>
      <td>21</td>
      <td>18</td>
      <td>2</td>
      <td>0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>14</td>
      <td>1</td>
      <td>46</td>
      <td>21</td>
      <td>18</td>
      <td>2</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>


